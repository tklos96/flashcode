<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FLASH5 Test: fortran/FLASH5/source/physics/Eos/EosMain/Helmholtz/Ye/Eos_wrapped.F90 File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">FLASH5 Test
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_9d95adc37effe2d0447790667f945c24.html">fortran</a></li><li class="navelem"><a class="el" href="dir_aaca5e2157f58805ddf087a6c1d4d986.html">FLASH5</a></li><li class="navelem"><a class="el" href="dir_d9542af6519f0ca27bc6117ad523d5c6.html">source</a></li><li class="navelem"><a class="el" href="dir_1cda4e1d5b1cb0a75978177217cc7d6e.html">physics</a></li><li class="navelem"><a class="el" href="dir_f5770a1015dc92cf5838be47b46d02c6.html">Eos</a></li><li class="navelem"><a class="el" href="dir_b145db4f0452b3292a7b3608d2d94447.html">EosMain</a></li><li class="navelem"><a class="el" href="dir_506c975e61ddd4f13533cccd3e4e7f3a.html">Helmholtz</a></li><li class="navelem"><a class="el" href="dir_10e14c6fcf94e7fffc247afb185103b2.html">Ye</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions/Subroutines</a>  </div>
  <div class="headertitle">
<div class="title">Eos_wrapped.F90 File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;Eos.h&quot;</code><br />
<code>#include &quot;constants.h&quot;</code><br />
<code>#include &quot;Flash.h&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions/Subroutines</h2></td></tr>
<tr class="memitem:a9d1a7b80b115c41dab9fb0113c3cc635"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_eos_main_2_helmholtz_2_ye_2_eos__wrapped_8_f90.html#a9d1a7b80b115c41dab9fb0113c3cc635">eos_wrapped</a> (mode, range, blockID, gridDataStruct)</td></tr>
<tr class="separator:a9d1a7b80b115c41dab9fb0113c3cc635"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function/Subroutine Documentation</h2>
<a id="a9d1a7b80b115c41dab9fb0113c3cc635"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d1a7b80b115c41dab9fb0113c3cc635">&#9670;&nbsp;</a></span>eos_wrapped()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine eos_wrapped </td>
          <td>(</td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(2,mdim), intent(in)&#160;</td>
          <td class="paramname"><em>range</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>blockID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in), optional&#160;</td>
          <td class="paramname"><em>gridDataStruct</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p></p>
<p>call Eos_wrapped( integer(IN) :: mode, integer(IN) :: range(HIGH, MDIM), integer(IN) :: blockID, optional,integer(IN) :: gridDataStruct )</p>
<p></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mode</td><td>determines which variables are used as Eos input. The valid values are MODE_DENS_EI (where density and internal energy are inputs), MODE_DENS_PRES (density and pressure as inputs) MODE_DENS_TEMP (density and temperature are inputs). These quantities are defined in constants.h, the argument is forwarded unchanged to the Eos function call. </td></tr>
    <tr><td class="paramname">range</td><td>an array that holds the lower and upper indices of the section of block on which Eos is to be applies. The example shows how the array describes the block section. </td></tr>
    <tr><td class="paramname">blockID</td><td>current block number </td></tr>
    <tr><td class="paramname">gridDataStruct</td><td>the grid data structure (cell centered / face centered etc) NAME</td></tr>
  </table>
  </dd>
</dl>
<p>Eos_wrapped</p>
<p>DESCRIPTION</p>
<p>This function is provided for the user's convenience and acts as a simple wrapper to the Eos interface. The Eos interface uses a single, flexible data structure "eosData" to pass the thermodynamic quantities in and out of the funtion (see Eos). The wrapper hides formation and use of eosData from the users.</p>
<p>While Eos does not know anything about blocks, Eos_wrapped takes its input thermodynamic state variables from a given block's storage area. It works by taking a selected section of a block described by array "range" and translating it to eosData before calling the Eos routine. Upon return from Eos, Eos_wrapper updates certain state variables in the same section of the block's storage area. Which variables are taken as input, and which are updated, depends on the "mode" argument.</p>
<p>If you want to return the derived quantities defined from EOS_VAR+1:EOS_NUM in Eos.h, then you must use the direct interface Eos().</p>
<p>This version works in EOS_YE mode. Here, abar is calculated from the Ye mass scalar and zbar from the Ye and SumY mass scalars, rather than leaving these to be determined (at a lower level, i.e. probably in the Eos() implementation) from multiple species information (or from single species runtime parameters). Code can check for EOS_YE mode by testing whether the preprocessor symbol USE_EOS_YE is defined.</p>
<p>EXAMPLE if range(LOW,IAXIS)=1,range(HIGH,IAXIS)=iguard, range(LOW,JAXIS)=1,range(HIGH,JAXIS)=jguard, range(LOW,KAXIS)=1,range(HIGH,KAXIS)=kguard, then Eos is applied to the lower left hand corner of the guard cells in the block.</p>
<p>However, if the value were range(LOW,IAXIS)=iguard+1,range(HIGH,IAXIS)=iguard+nxb, range(LOW,JAXIS)=jguard+1,range(HIGH,JAXIS)=jguard+nyb, range(LOW,KAXIS)=kguard+1,range(HIGH,KAXIS)=kguard+nzb, then Eos is applied to all the interior cells in the block.</p>
<p>NOTES This interface is defined in Fortran Module Eos_interface. All functions calling this routine should include a statement like use Eos_interface, ONLY : Eos_wrapped</p>
<p>This routine cannot use "INTERIOR" mode of indexing the range. In the second example given above, although only the interior cells are being calculated with EOS, the range indices still must include the guard cells. See, for example, IsentropicVortex/Simulation_initBlock where the data is generated on INTERIOR cells with Grid_putRowData, but the same indices can't be used for the EOS call.</p>
<p>SEE ALSO</p>
<p>Eos Eos.h </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
