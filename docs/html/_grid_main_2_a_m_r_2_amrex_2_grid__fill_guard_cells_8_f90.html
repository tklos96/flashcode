<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FLASH5 Test: fortran/FLASH5/source/Grid/GridMain/AMR/Amrex/Grid_fillGuardCells.F90 File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">FLASH5 Test
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_9d95adc37effe2d0447790667f945c24.html">fortran</a></li><li class="navelem"><a class="el" href="dir_aaca5e2157f58805ddf087a6c1d4d986.html">FLASH5</a></li><li class="navelem"><a class="el" href="dir_d9542af6519f0ca27bc6117ad523d5c6.html">source</a></li><li class="navelem"><a class="el" href="dir_06beb580571d8da4bd59dee7afe6838a.html">Grid</a></li><li class="navelem"><a class="el" href="dir_a5ba4d35013f375122597140872d1634.html">GridMain</a></li><li class="navelem"><a class="el" href="dir_05ae419e4599d04cada32fb260516b32.html">AMR</a></li><li class="navelem"><a class="el" href="dir_bc0ac6a3aedcfa4ef77cb998364af67e.html">Amrex</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions/Subroutines</a>  </div>
  <div class="headertitle">
<div class="title">Grid_fillGuardCells.F90 File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions/Subroutines</h2></td></tr>
<tr class="memitem:a59521205835d7ab8da578fe437a68803"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_grid_main_2_a_m_r_2_amrex_2_grid__fill_guard_cells_8_f90.html#a59521205835d7ab8da578fe437a68803">grid_fillguardcells</a> (gridDataStruct, idir, minLayers, eosMode, doEos, maskSize, mask, makeMaskConsistent, doLogMask, selectBlockType, unitReadsMeshDataOnly)</td></tr>
<tr class="separator:a59521205835d7ab8da578fe437a68803"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function/Subroutine Documentation</h2>
<a id="a59521205835d7ab8da578fe437a68803"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59521205835d7ab8da578fe437a68803">&#9670;&nbsp;</a></span>grid_fillguardcells()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine grid_fillguardcells </td>
          <td>(</td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>gridDataStruct</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>idir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in), optional&#160;</td>
          <td class="paramname"><em>minLayers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in), optional&#160;</td>
          <td class="paramname"><em>eosMode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">logical, intent(in), optional&#160;</td>
          <td class="paramname"><em>doEos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in), optional&#160;</td>
          <td class="paramname"><em>maskSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">logical, dimension(:), intent(in), optional&#160;</td>
          <td class="paramname"><em>mask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">logical, intent(in), optional&#160;</td>
          <td class="paramname"><em>makeMaskConsistent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">logical, intent(in), optional&#160;</td>
          <td class="paramname"><em>doLogMask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in), optional&#160;</td>
          <td class="paramname"><em>selectBlockType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">logical, intent(in), optional&#160;</td>
          <td class="paramname"><em>unitReadsMeshDataOnly</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>call Grid_fillGuardCells(integer(IN) :: gridDataStruct, integer(IN) :: idir, optional, integer(IN) :: minLayers, optional, integer(IN) :: eosMode, optional, logical(IN) :: doEos, optional, integer(IN) :: maskSize, optional, logical(IN) :: mask(maskSize), optional, logical(IN) :: makeMaskConsistent, optional, logical(IN) :: doLogMask optional, integer(IN) :: selectBlockType, optional, logical(IN) :: unitReadsMeshDataOnly)</p>
<p></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">gridDataStruct</td><td>integer constant that indicates which grid data structure variable's guardcells to fill. Valid values are </td></tr>
    <tr><td class="paramname">CENTER</td><td>cell centered data only </td></tr>
    <tr><td class="paramname">FACEX</td><td>X face centered data only </td></tr>
    <tr><td class="paramname">FACEY</td><td>Y face centered data only </td></tr>
    <tr><td class="paramname">FACEZ</td><td>Z face centered data only </td></tr>
    <tr><td class="paramname">FACES</td><td>All face centered data only </td></tr>
    <tr><td class="paramname">CENTER_FACES</td><td>cell centered and all face </td></tr>
    <tr><td class="paramname">idir</td><td>For AMReX, the only valid value is ALLDIR, which does the fill along all directions. </td></tr>
    <tr><td class="paramname">minLayers</td><td>number of guardcell layers requested for all directions. </td></tr>
    <tr><td class="paramname">eosMode</td><td>The mode in which eos is to be applied. If not given, then EoS will be run in the mode given by the eosMode runtime parameter. </td></tr>
    <tr><td class="paramname">doEos</td><td>run EoS on leaf block guardcells </td></tr>
    <tr><td class="paramname">maskSize</td><td>the size of the mask array. </td></tr>
    <tr><td class="paramname">mask</td><td>an array whose indices correspond to variables in the grid data structures. The guardcell data for each variable will be filled if the corresponding element in mask is set to .TRUE. If the runtime parameter enableMaskedGCFill is .FALSE., then the routine performs the fill as if all elements in mask are set to .TRUE. Note that the presence of this variable requires that maskSize also be given. </td></tr>
    <tr><td class="paramname">makeMaskConsistent</td><td>If .TRUE., then the mask is altered so that the fill is also done for all quantities on which unmasked quanitities depend. If doEos is .TRUE., it is also determined if the contents of mask require that EoS be run. Note that the presence of this variable requires that mask also be given. </td></tr>
    <tr><td class="paramname">doLogMask</td><td>log masking information if given. </td></tr>
    <tr><td class="paramname">selectBlockType</td><td>it is an error to give this parameter. </td></tr>
    <tr><td class="paramname">unitReadsMeshDataOnly</td><td>it is an error to give this parameter.</td></tr>
  </table>
  </dd>
</dl>
<p>NAME Grid_fillGuardCells</p>
<p>DESCRIPTION For all leaf blocks, fill the guardcells of the physical quantities in accord with the given mask parameters and that are of the indicated grid data structure type.</p>
<p>Specifically, this routine (1) converts all primitive form leaf data to conserved form, (2) restricts data from leaf blocks down to all ancestors, (3) fills all guardcells at all levels, (4) reverts conserved form leaf data to primitive form where necessary, and (5) runs EoS on cell-centered leaf block guardcells if so desired.</p>
<p>Note that steps (1) and (4) are skipped if the runtime parameters convertToConsvdInMeshInterp and convertToConsvdForMeshCalls indicate that conversion is not desired.</p>
<p>The fill step might require prolongation operations, which use the AMReX conservative linear interpolation algorithm for guardcells at fine/coarse boundaries. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
