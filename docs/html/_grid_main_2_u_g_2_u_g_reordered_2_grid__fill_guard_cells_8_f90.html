<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FLASH5 Test: fortran/FLASH5/source/Grid/GridMain/UG/UGReordered/Grid_fillGuardCells.F90 File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">FLASH5 Test
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_9d95adc37effe2d0447790667f945c24.html">fortran</a></li><li class="navelem"><a class="el" href="dir_aaca5e2157f58805ddf087a6c1d4d986.html">FLASH5</a></li><li class="navelem"><a class="el" href="dir_d9542af6519f0ca27bc6117ad523d5c6.html">source</a></li><li class="navelem"><a class="el" href="dir_06beb580571d8da4bd59dee7afe6838a.html">Grid</a></li><li class="navelem"><a class="el" href="dir_a5ba4d35013f375122597140872d1634.html">GridMain</a></li><li class="navelem"><a class="el" href="dir_e2cc8590a8a19a674efa793b1a0bc77b.html">UG</a></li><li class="navelem"><a class="el" href="dir_2a387931819f96db8e709bf80de3f358.html">UGReordered</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions/Subroutines</a>  </div>
  <div class="headertitle">
<div class="title">Grid_fillGuardCells.F90 File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions/Subroutines</h2></td></tr>
<tr class="memitem:a59521205835d7ab8da578fe437a68803"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_grid_main_2_u_g_2_u_g_reordered_2_grid__fill_guard_cells_8_f90.html#a59521205835d7ab8da578fe437a68803">grid_fillguardcells</a> (gridDataStruct, idir, minLayers, eosMode, doEos, maskSize, mask, makeMaskConsistent, doLogMask, selectBlockType, unitReadsMeshDataOnly)</td></tr>
<tr class="separator:a59521205835d7ab8da578fe437a68803"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function/Subroutine Documentation</h2>
<a id="a59521205835d7ab8da578fe437a68803"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59521205835d7ab8da578fe437a68803">&#9670;&nbsp;</a></span>grid_fillguardcells()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine grid_fillguardcells </td>
          <td>(</td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>gridDataStruct</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>idir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in), optional&#160;</td>
          <td class="paramname"><em>minLayers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in), optional&#160;</td>
          <td class="paramname"><em>eosMode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">logical, intent(in), optional&#160;</td>
          <td class="paramname"><em>doEos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in), optional&#160;</td>
          <td class="paramname"><em>maskSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">logical, dimension(:), intent(in), optional&#160;</td>
          <td class="paramname"><em>mask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">logical, intent(in), optional&#160;</td>
          <td class="paramname"><em>makeMaskConsistent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">logical, intent(in), optional&#160;</td>
          <td class="paramname"><em>doLogMask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in), optional&#160;</td>
          <td class="paramname"><em>selectBlockType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">logical, intent(in), optional&#160;</td>
          <td class="paramname"><em>unitReadsMeshDataOnly</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p></p>
<p>call Grid_fillGuardCells(integer(IN) :: gridDataStruct, integer(IN) :: idir, optional,integer(IN) :: minLayers, optional,integer(IN) :: eosMode, optional,logical(IN) :: doEos, optional,integer(IN) :: maskSize, optional,logical(IN) :: mask(maskSize), optional,logical(IN) :: makeMaskConsistent, optional,integer(IN) :: selectBlockType, optional,logical(IN) :: unitReadsMeshDataOnly)</p>
<p></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">gridDataStruct</td><td>integer constant, defined in "constants.h", indicating which grid data structure variable's guardcells to fill. Paramesh has 5 data structures for grid variables, the first four include all physical variables defined on the mesh. The fifth one includes a single variable. unk cell centered, facex,facey,facez face centered along i,j,k direction respectively work cell centered, single variable. Uniform grid supports the first four data structure, there is no "work" data structure in UG With those datastructures, the ones included for specific values of gridDataStruct are CENTER unk only WORK has no meaning in UG The face variables are not yet implemented in UG FACES facex,facey, and facez FACEX facex FACEY facey FACEZ facez CENTER_FACES unk,facex,facey,facez </td></tr>
    <tr><td class="paramname">idir</td><td>direction of guardcell fill. User can specify ALLDIR for all (x,y,z) directions, or if for example the algorithm only does one directional sweep at a time then time can be saved by filling only the guardcell direction that is needed. A user would pass in the constants defined in constants.h IAXIS, JAXIS or KAXIS to fill guardcells in only one direction. All layers of guardcells in the given direction(s) are filled. In this current UGReordered implementation, idir is ignored and a full guardcell fill in all directions is always performed, except for boundary conditions at the edges of the physical domain. THE REMAINING ARGUMENTS HAVE NO MEANING IN UG </td></tr>
    <tr><td class="paramname">minLayers</td><td>number of guardcell layers requested for all directions. The caller requests at least this many layers of guardcells to be filled. If idir is given as one of IAXIS, JAXIS, or KAXIS, this applies to any directions NOT selected by idir. On the other hand, if idir is given as ALLDIR, then minLayers appliers to all directions equally. If not specified, the default is 0 if idir is given as IAXIS, JAXIS, or KAXIS, meaning no guardcells need to be filled in for the directions perpendicular to what idir selects; the default is NGUARD, the full number of available guardcells, if idir is ALLDIR. Note that the caller can specify, using minLayers, how many layers it needs filled, but the implementation may do more and actually fill all or some additional layers. The caller must therefore not rely on some guardcells remaining unchanged. In the current UG implementation, minLayers is ignored and a full guardcell fill in all directions is always performed, except for bondary conditions at the edges of the physical domain, where the code currently always behaves as if minLayers=0 had been specified. </td></tr>
    <tr><td class="paramname">eosMode</td><td>the EOS mode being used by the solver that is calling the </td></tr>
    <tr><td class="paramname">routine.</td><td>The valid values are MODE_DEFAULT the default eos mode being used by the grid unit MODE_DENS_EI density and energy input, pressure and temp output MODE_DENS_PRES density/pressure input, temperature/energy output MODE_DENS_TEMP density/temperature input, pressure/energy output </td></tr>
    <tr><td class="paramname">doEos</td><td>a logical variable indicating if the calling routine wants the gcfill process to also make sure that Eos is applied to achieve thermodynamically consistent values of all variables. </td></tr>
    <tr><td class="paramname">maskSize</td><td>the size of the mask array. </td></tr>
    <tr><td class="paramname">mask</td><td>It is a one with indices corresponding to variables in the grid data structures. If a variable should have its guardcells filled, the corresponding element in "mask" is true, otherwise it is false. The mask is always ignored if the runtime parameter enableMaskedGCFill is set .FALSE. </td></tr>
    <tr><td class="paramname">makeMaskConsistent</td><td>If true when mask is applied, it is made sure that for all the selected variables in the mask, the ones they are dependent on are true too. It is also determined whether there is a need to apply Eos if doEos argument is true. </td></tr>
    <tr><td class="paramname">selectBlockType</td><td>IGNORED </td></tr>
    <tr><td class="paramname">unitReadsMeshDataOnly</td><td>specifies that the unit calling Grid_fillGuardCells does not update any internal grid data. This allows us to skip the next guard cell fill because the guard cells already contain up to date data.</td></tr>
  </table>
  </dd>
</dl>
<p>NAME Grid_fillGuardCells</p>
<p>DESCRIPTION</p>
<p>Fills guard cells for all blocks.</p>
<p>This routine has a flexible interface and offers the user a number of options depending on the arguments passed in the interface.</p>
<p>The user can choose to fill guardcells for all variables or some of the variables, fill guardcells in all directions or just a single direction and fill guardcells on a given level (to be implemented).</p>
<p>EXAMPLE</p>
<p>#include "Flash.h" #include "constants.h"</p>
<p>call Grid_fillGuardCells( CENTER, IAXIS)</p>
<p>This call will fill all guardcells for all cell-centered variables in the x direction.</p>
<p>EXAMPLE 2</p>
<p>#include "Flash.h" #include "constants.h"</p>
<p>call Grid_fillGuardCells( WORK, ALLDIR)</p>
<p>This call fills guardcells along all directions and the operation is applied to the WORK data structure available in paramesh only. Thus this call is not supported in this implementation.</p>
<p>NOTES</p>
<p>The masking functionality is not yet included in UG </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
