<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FLASH5 Test: fortran/FLASH5/source/Grid/GridParticles/GridParticlesMove/ParticlesOwned/Paramesh/VirtualParticles/gr_ptMoveOffBlk.F90 File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">FLASH5 Test
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_9d95adc37effe2d0447790667f945c24.html">fortran</a></li><li class="navelem"><a class="el" href="dir_aaca5e2157f58805ddf087a6c1d4d986.html">FLASH5</a></li><li class="navelem"><a class="el" href="dir_d9542af6519f0ca27bc6117ad523d5c6.html">source</a></li><li class="navelem"><a class="el" href="dir_06beb580571d8da4bd59dee7afe6838a.html">Grid</a></li><li class="navelem"><a class="el" href="dir_3663af0769abe994a06b6745dc09c949.html">GridParticles</a></li><li class="navelem"><a class="el" href="dir_e5618e81d4c1e156435b9ca0b8d372fd.html">GridParticlesMove</a></li><li class="navelem"><a class="el" href="dir_e2985f20afaa60a94e94be359b3f1f49.html">ParticlesOwned</a></li><li class="navelem"><a class="el" href="dir_2c01be38ac7930056dfe45f0e0cc712d.html">Paramesh</a></li><li class="navelem"><a class="el" href="dir_271c17f8ca6385a695d13af24b149a32.html">VirtualParticles</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions/Subroutines</a>  </div>
  <div class="headertitle">
<div class="title">gr_ptMoveOffBlk.F90 File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;constants.h&quot;</code><br />
<code>#include &quot;Flash.h&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions/Subroutines</h2></td></tr>
<tr class="memitem:a88d3f14f6d7ce8df5cdf894175cabb32"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_grid_particles_2_grid_particles_move_2_particles_owned_2_paramesh_2_virtual_particles_2gr__pt_move_off_blk_8_f90.html#a88d3f14f6d7ce8df5cdf894175cabb32">gr_ptmoveoffblk</a> (dataBuf, propCount, localCount, globalCount, destBuf, numDest)</td></tr>
<tr class="separator:a88d3f14f6d7ce8df5cdf894175cabb32"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function/Subroutine Documentation</h2>
<a id="a88d3f14f6d7ce8df5cdf894175cabb32"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88d3f14f6d7ce8df5cdf894175cabb32">&#9670;&nbsp;</a></span>gr_ptmoveoffblk()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine gr_ptmoveoffblk </td>
          <td>(</td>
          <td class="paramtype">real, dimension(propcount,globalcount), intent(inout)&#160;</td>
          <td class="paramname"><em>dataBuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>propCount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(inout)&#160;</td>
          <td class="paramname"><em>localCount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>globalCount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(propcount,globalcount), intent(inout)&#160;</td>
          <td class="paramname"><em>destBuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(inout)&#160;</td>
          <td class="paramname"><em>numDest</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p></p>
<p>gr_ptMoveOffBlk(real(INOUT) :: dataBuf(propCount,localCount), integer(in) :: propCount, integer(INOUT) :: localCount, real(INOUT) :: destBuf(propCount,localCount), integer(INOUT) :: numDest)</p>
<p></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dataBuf</td><td>A 2 dimensional array of elements and their property values </td></tr>
    <tr><td class="paramname">propCount</td><td>number of element attributes </td></tr>
    <tr><td class="paramname">localCount</td><td>The number of elements in the element array that are stored on this processor. </td></tr>
    <tr><td class="paramname">globalCount</td><td>The maximum number of elements in the element array that can be stored on this processor. </td></tr>
    <tr><td class="paramname">destBuf</td><td>temporary storage for elements that need to move off processor </td></tr>
    <tr><td class="paramname">numDest</td><td>number of elements in destBuf</td></tr>
  </table>
  </dd>
</dl>
<p>NAME</p>
<p>gr_ptMoveOffBlk</p>
<p>DESCRIPTION</p>
<p>This routine is used in moving the non stationaly data elements associated with structures like particles and ray, when a data element moves off a block without re-gridding. Here every element currently on the processor is examined to see if it still belongs to the same block. If it does not, it is further examimned to see if it has moved out of the physical boundary. If is out of physical boundary, it may either leave the domain, stay on the same block or be moved to destBuf, which holds elements to be passed to the next processor, depending on the boundary conditions. If it is still in the physical domain, it may have moved to another block on the same processor, in which case only its BLK needs to change, otherwise it is moved to destBuf. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
