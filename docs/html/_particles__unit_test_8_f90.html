<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FLASH5 Test: fortran/FLASH5/source/Particles/Particles_unitTest.F90 File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">FLASH5 Test
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_9d95adc37effe2d0447790667f945c24.html">fortran</a></li><li class="navelem"><a class="el" href="dir_aaca5e2157f58805ddf087a6c1d4d986.html">FLASH5</a></li><li class="navelem"><a class="el" href="dir_d9542af6519f0ca27bc6117ad523d5c6.html">source</a></li><li class="navelem"><a class="el" href="dir_ee0f4785c026b8a06a4a8041ca0ca9f6.html">Particles</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions/Subroutines</a>  </div>
  <div class="headertitle">
<div class="title">Particles_unitTest.F90 File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;Flash.h&quot;</code><br />
<code>#include &quot;constants.h&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions/Subroutines</h2></td></tr>
<tr class="memitem:abde4b1c67995ec39fea16a8b1a6d865a"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_particles__unit_test_8_f90.html#abde4b1c67995ec39fea16a8b1a6d865a">particles_unittest</a> (fileUnit, perfect)</td></tr>
<tr class="separator:abde4b1c67995ec39fea16a8b1a6d865a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function/Subroutine Documentation</h2>
<a id="abde4b1c67995ec39fea16a8b1a6d865a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abde4b1c67995ec39fea16a8b1a6d865a">&#9670;&nbsp;</a></span>particles_unittest()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine particles_unittest </td>
          <td>(</td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>fileUnit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">logical, intent(inout)&#160;</td>
          <td class="paramname"><em>perfect</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p></p>
<p>call Particles_unitTest(integer(in) :: fileUnit, logical(inout) :: perfect )</p>
<p></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fileUnit</td><td>integer number of file for output </td></tr>
    <tr><td class="paramname">perfect</td><td>logical may be set to false if any test fails</td></tr>
  </table>
  </dd>
</dl>
<p>NAME</p>
<p>Particles_unitTest</p>
<p>DESCRIPTION</p>
<p>Entry point to testing code within the Particles unit.</p>
<p>Different implementations exist at different locations within the Particles code hierarchy, for testing different features of the unit. Test setups should provide appropriate code and configuaration directives in the part of the code that resides in the Simulation unit, in order to select the right implementation of Particles_unitTest, require any additional code units needed, provide initialization etc., and call Particles_unitTest.</p>
<p>See comments in specific implementations for more specific documentation.</p>
<p>NOTES</p>
<p>Typically, Particles_unitTest will be called from a modified version of Driver_evolveFlash. That implementation of Driver_evolveFlash will typically</p>
<ul>
<li>initialize the actual argument associated with the dummy argument 'perfect' to TRUE, and</li>
<li>open a file for writing, whose unit number is passed as 'fileUnit'; (Note that usually several files will be opened if the test is executed in parallel on several MPI tasks, each with a uniquely constructed filename that follows the pattern unitTest_NNNN.)</li>
<li>call Particles_unitTest, possibly more than one time in a task depending on the test performed;</li>
<li>consider the test successful (on the current MPI rank) iff perfect has not been set to FALSE by any invocation of Particles_unitTest, and</li>
<li>write a line containing the magic phrase "all results conformed with expected
     values" to the file given by fileUnit before closing it.</li>
</ul>
<p>FlashTest considers a "unitTest" successful if it finds the magic phrase in each of the unitTest_NNNN files created by the test run.</p>
<p>SEE ALSO</p>
<p>Driver_evolveFlash </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
