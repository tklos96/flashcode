<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FLASH5 Test: fortran/FLASH5/source/Particles/ParticlesInitialization/Particles_initData.F90 File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">FLASH5 Test
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_9d95adc37effe2d0447790667f945c24.html">fortran</a></li><li class="navelem"><a class="el" href="dir_aaca5e2157f58805ddf087a6c1d4d986.html">FLASH5</a></li><li class="navelem"><a class="el" href="dir_d9542af6519f0ca27bc6117ad523d5c6.html">source</a></li><li class="navelem"><a class="el" href="dir_ee0f4785c026b8a06a4a8041ca0ca9f6.html">Particles</a></li><li class="navelem"><a class="el" href="dir_df39b9eb5842c26b01cf7bfdafb9a383.html">ParticlesInitialization</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions/Subroutines</a>  </div>
  <div class="headertitle">
<div class="title">Particles_initData.F90 File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions/Subroutines</h2></td></tr>
<tr class="memitem:ac717c14086e0f1a8ff718a523898a159"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_particles_initialization_2_particles__init_data_8_f90.html#ac717c14086e0f1a8ff718a523898a159">particles_initdata</a> (restart, partPosInitialized)</td></tr>
<tr class="separator:ac717c14086e0f1a8ff718a523898a159"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function/Subroutine Documentation</h2>
<a id="ac717c14086e0f1a8ff718a523898a159"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac717c14086e0f1a8ff718a523898a159">&#9670;&nbsp;</a></span>particles_initdata()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine particles_initdata </td>
          <td>(</td>
          <td class="paramtype">logical, intent(in)&#160;</td>
          <td class="paramname"><em>restart</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">logical, intent(inout)&#160;</td>
          <td class="paramname"><em>partPosInitialized</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p></p>
<p>call Particles_initData(logical(IN) :: restart, logical(INOUT) :: partPosInitialized)</p>
<p></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">restart</td><td>true if restarting from a checkpoint, false otherwise. </td></tr>
    <tr><td class="paramname">partPosInitialized</td><td>an impementation of this interface should skip initialization of particle positions if this dummy argument is TRUE on entry. The value returned should always be TRUE. SIDE EFFECTS Updates particles data that is private to the Particles unit. Updates pt_numLocal, and probably other Particles_data variables. Normally sets an internal flag (pt_velInitialized) that keeps track of whether initialization of particle velocities is complete. May set internal flag pt_posInitialized (indirectly, by calling Particles_initPositions). Updates the pt_typeInfo data structure (by calling pt_updateTypeDS).</td></tr>
  </table>
  </dd>
</dl>
<p>NAME</p>
<p>Particles_initData</p>
<p>DESCRIPTION</p>
<p>Initializations that depend upon the values of mesh variables such as updating attributes, calculating long/short range forces, etc.</p>
<p>When this interface is called during Flash initialization, and the current run is not a restart from a checkpoint,</p>
<p>o particles positions (and thus particle tags) MAY have been initialized (see Grid_initDomain), and o mass properties for active particles MAY have been initialized.</p>
<p>If particles positions are already initialized, i.e., all particles that should initially exist have already been created and dropped into their positions, the dummy argument partPosInitialized will be TRUE on entry.</p>
<p>If restart is TRUE, the default implementation does not do anything (other than call Simulation_initParticleAttrib as described below).</p>
<p>Otherwise: o If particle positions are not yet initialized, it is done here (by calling Particles_initPositions). Particles_initPositions will also take care of initializing particle tags uniquely. o For particles with certain passive ADVANCE methods - currently,</p><ul>
<li>EULER_TRA</li>
<li>RUNGEKUTTA</li>
<li>MIDPOINT</li>
<li>ESTI - this is where velocity components are initialized, unless the flag pt_velInitialized (in Particles_data) indicates that velocity initialization is considered already complete. For passive particles, this is done by mapping from the fluid velocity field. The sequence of initialization is such that fluid fields are guaranteed to have been initialized to their final starting values, and the configuration of the grid has been finalized including creation of blocks up to the maximum refinement level, when the Particles_initData interface is called.</li>
</ul>
<p>The default implementation in the ParticlesInitialization subunit calls Simulation_initParticleAttrib before returning, so if custom initialization of additional particle properties is needed, that's the place to implement it.</p>
<p>SEE ALSO</p>
<p>Driver_intFlash Grid_intDomain Simulation_initParticleAttrib Particles_data </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
