<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FLASH5 Test: fortran/FLASH5/source/Particles/ParticlesMain/Particles_manageLost.F90 File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">FLASH5 Test
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_9d95adc37effe2d0447790667f945c24.html">fortran</a></li><li class="navelem"><a class="el" href="dir_aaca5e2157f58805ddf087a6c1d4d986.html">FLASH5</a></li><li class="navelem"><a class="el" href="dir_d9542af6519f0ca27bc6117ad523d5c6.html">source</a></li><li class="navelem"><a class="el" href="dir_ee0f4785c026b8a06a4a8041ca0ca9f6.html">Particles</a></li><li class="navelem"><a class="el" href="dir_bd563288367a3bceb1f63018c76d7591.html">ParticlesMain</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions/Subroutines</a>  </div>
  <div class="headertitle">
<div class="title">Particles_manageLost.F90 File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;Particles.h&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions/Subroutines</h2></td></tr>
<tr class="memitem:add180896d0eff8a08ef378dc3c7598ee"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_particles_main_2_particles__manage_lost_8_f90.html#add180896d0eff8a08ef378dc3c7598ee">particles_managelost</a> (mode)</td></tr>
<tr class="separator:add180896d0eff8a08ef378dc3c7598ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function/Subroutine Documentation</h2>
<a id="add180896d0eff8a08ef378dc3c7598ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add180896d0eff8a08ef378dc3c7598ee">&#9670;&nbsp;</a></span>particles_managelost()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine particles_managelost </td>
          <td>(</td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>mode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Particles_manageLost( integer(in) :: mode )</p>
<p></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mode</td><td>indicates whether the "LOST" particles are appended at the end of active list of moved away from there </td></tr>
    <tr><td class="paramname">EXAMPLE</td><td>if pt_maxPerProc=1000 (the size of the particles data structure on a processor), count of particles still in the domain is 250, and the number of particles that have left the domain is 20, then </td></tr>
    <tr><td class="paramname">for</td><td>processing pt_numLocal=250, and the indices 981 1000 in the </td></tr>
    <tr><td class="paramname">particles</td><td>data structure {particles( ,981 particles with pt_numLost=20. When this routine is invoked with pt_keepLostParticles=.true. then the following operations are </td></tr>
    <tr><td class="paramname">performed</td><td>if mode==PART_EXPAND </td></tr>
    <tr><td class="paramname">particles(,981</td><td>When pt_keepLostParticles=.false. the routine returns without performing any operations.</td></tr>
  </table>
  </dd>
</dl>
<p>NAME Particles_manageLost</p>
<p>DESCRIPTION</p>
<p>This routine is devised to facilitate keeping around particles even after they leave the physical domain. A runtime parameter "pt_keepLostParticles", when true triggers this behavior. These particles need special handling because they should not advance in time, or be mapped to or from the grid. We do this by assigning a value "LOST" (defined in constants.h) to the associated block number, and moving them to the end of the particles data structure. They are not counted in pt_numLocal, which is the local particles count, when processing (time advance, mapping or force computations), but need to be temporarily included for IO. This is the routine that allows the temporary inclusion by appending "LOST" particles at the end of the active particles list before writing, and moving them back at the end of the data structure after writing. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
