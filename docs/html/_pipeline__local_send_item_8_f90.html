<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FLASH5 Test: fortran/FLASH5/source/flashUtilities/Pipeline/Pipeline_localSendItem.F90 File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">FLASH5 Test
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_9d95adc37effe2d0447790667f945c24.html">fortran</a></li><li class="navelem"><a class="el" href="dir_aaca5e2157f58805ddf087a6c1d4d986.html">FLASH5</a></li><li class="navelem"><a class="el" href="dir_d9542af6519f0ca27bc6117ad523d5c6.html">source</a></li><li class="navelem"><a class="el" href="dir_13f0565b03a429ba08dbacf88b7efdc2.html">flashUtilities</a></li><li class="navelem"><a class="el" href="dir_875206efe304ed18959d483107dfd490.html">Pipeline</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions/Subroutines</a>  </div>
  <div class="headertitle">
<div class="title">Pipeline_localSendItem.F90 File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions/Subroutines</h2></td></tr>
<tr class="memitem:a4e08c0efc6eac8981445065c8457925d"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_pipeline__local_send_item_8_f90.html#a4e08c0efc6eac8981445065c8457925d">pipeline_localsenditem</a> (userItem, userProcID, isHandled)</td></tr>
<tr class="separator:a4e08c0efc6eac8981445065c8457925d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function/Subroutine Documentation</h2>
<a id="a4e08c0efc6eac8981445065c8457925d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e08c0efc6eac8981445065c8457925d">&#9670;&nbsp;</a></span>pipeline_localsenditem()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine pipeline_localsenditem </td>
          <td>(</td>
          <td class="paramtype">real, dimension (:), intent(in)&#160;</td>
          <td class="paramname"><em>userItem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>userProcID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">logical, intent(out)&#160;</td>
          <td class="paramname"><em>isHandled</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p></p>
<p>call Pipeline_localSendItem (real, intent (in) :: userItem (:), integer, intent (in) :: userProcID, logical, intent (out) :: isHandled)</p>
<p></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">userItem</td><td>the item (array of elements) to be added to the send buffer </td></tr>
    <tr><td class="paramname">userProcID</td><td>channel processor ID </td></tr>
    <tr><td class="paramname">isHandled</td><td>is true, if the item was successfully added to the buffer</td></tr>
  </table>
  </dd>
</dl>
<p>NAME</p>
<p>Pipeline_localSendItem</p>
<p>DESCRIPTION</p>
<p>The routine will try to add the user supplied item to the local send buffer on the pipeline channel corresponding to the user supplied channel processor procID. This can be done, if there is no pending send on the send buffer and if there is enough space on the send buffer. This part of the routine can be considered the local feeder of the pipeline.</p>
<p>NOTES</p>
<p>If the item supplied by the user contains more elements than the pipeline items can handle, the program aborts.</p>
<p>It is the user's responsibility to make sure that the supplied channel processor ID actually belongs to a channel of the pipeline on the local processor. If the userProcID channel is not found within all the channels of the pipeline on the local processor, then currently we signal that something must have gone wrong. Either the pipeline for the local processor was set up incorrectly or userProcID does not correspond to a channel processor. In this case the only solution is to abort the program.</p>
<p>In the future we might just simply ignore the sending item request, if userProcID is not one of the channels. We simply return isHandled = false and continue with the program.</p>
<p>Currently the routine is written in such a way that the item will always be added to the send buffer, i.e. isHandled should always be true. In case there is a pending send of the buffer, we call the progress sending communication repeatedly until the send for the particular channel has completed (i.e. the send buffer is free to be reused). A return of isHandled equal to false indicates an abnormality and should be catched by the calling routine. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
