<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FLASH5 Test: fortran/FLASH5/source/Grid/GridMain/AMR/Amrex/gr_postinterpolationWork.F90 File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">FLASH5 Test
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_9d95adc37effe2d0447790667f945c24.html">fortran</a></li><li class="navelem"><a class="el" href="dir_aaca5e2157f58805ddf087a6c1d4d986.html">FLASH5</a></li><li class="navelem"><a class="el" href="dir_d9542af6519f0ca27bc6117ad523d5c6.html">source</a></li><li class="navelem"><a class="el" href="dir_06beb580571d8da4bd59dee7afe6838a.html">Grid</a></li><li class="navelem"><a class="el" href="dir_a5ba4d35013f375122597140872d1634.html">GridMain</a></li><li class="navelem"><a class="el" href="dir_05ae419e4599d04cada32fb260516b32.html">AMR</a></li><li class="navelem"><a class="el" href="dir_bc0ac6a3aedcfa4ef77cb998364af67e.html">Amrex</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions/Subroutines</a>  </div>
  <div class="headertitle">
<div class="title">gr_postinterpolationWork.F90 File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;constants.h&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions/Subroutines</h2></td></tr>
<tr class="memitem:a1ea27f9b06a5a3a4c99ac53e91912eed"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gr__postinterpolation_work_8_f90.html#a1ea27f9b06a5a3a4c99ac53e91912eed">gr_postinterpolationwork</a> (lo, hi, d, dlo, dhi, nd, scomp, ncomp)</td></tr>
<tr class="separator:a1ea27f9b06a5a3a4c99ac53e91912eed"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function/Subroutine Documentation</h2>
<a id="a1ea27f9b06a5a3a4c99ac53e91912eed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ea27f9b06a5a3a4c99ac53e91912eed">&#9670;&nbsp;</a></span>gr_postinterpolationwork()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine gr_postinterpolationwork </td>
          <td>(</td>
          <td class="paramtype">integer(c_int), dimension(mdim), intent(in)&#160;</td>
          <td class="paramname"><em>lo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer(c_int), dimension(mdim), intent(in)&#160;</td>
          <td class="paramname"><em>hi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real(wp), dimension(dlo(iaxis):dhi(iaxis),                                            dlo(jaxis):dhi(jaxis),                                            dlo(kaxis):dhi(kaxis),                                            nd), intent(inout)&#160;</td>
          <td class="paramname"><em>d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer(c_int), dimension(mdim), intent(in)&#160;</td>
          <td class="paramname"><em>dlo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer(c_int), dimension(mdim), intent(in)&#160;</td>
          <td class="paramname"><em>dhi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer(c_int), intent(in), value&#160;</td>
          <td class="paramname"><em>nd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer(c_int), intent(in), value&#160;</td>
          <td class="paramname"><em>scomp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer(c_int), intent(in), value&#160;</td>
          <td class="paramname"><em>ncomp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>gr_postinterpolationWork(integer(IN) :: lo(MDIM), integer(IN) :: hi(MDIM), amrex_real(INOUT) :: d(dlo(IAXIS):dhi(IAXIS), &amp; dlo(JAXIS):dhi(JAXIS), &amp; dlo(KAXIS):dhi(KAXIS), &amp; nd), integer(IN) :: dlo(MDIM), integer(IN) :: dhi(MDIM), integer(IN) :: nd, integer(IN) :: scomp, integer(IN) :: ncomp)</p>
<p></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lo</td><td>the index of the lower </td></tr>
    <tr><td class="paramname">box</td><td>that requires conversion from primitive to </td></tr>
    <tr><td class="paramname">hi</td><td>the index of the upper box that requires cleaning and conversion from </td></tr>
    <tr><td class="paramname">conservative</td><td>to </td></tr>
    <tr><td class="paramname">dlo</td><td>the lower </td></tr>
    <tr><td class="paramname">dhi</td><td>the upper </td></tr>
    <tr><td class="paramname">nd</td><td>the number of physical quantities in box </td></tr>
    <tr><td class="paramname">scomp</td><td>the index of the first physical quantity in the box </td></tr>
    <tr><td class="paramname">ncomp</td><td>the number of physical quantities in the box </td></tr>
    <tr><td class="paramname">d</td><td>the data array for the box that requires interpolation</td></tr>
  </table>
  </dd>
</dl>
<p>NAME gr_postinterpolationWork</p>
<p>DESCRIPTION This is a callback routine that is passed to the AMReX fill patch routines, which may carry out interpolation as part of their data movement actions.</p>
<p>AMReX calls this routine just after carrying out interpolation so that the calling application may perform any necessary work on the data that was used to perform the interpolation and on the data that was set via interpolation.</p>
<p>This routine performs conservative-to-primitive form conversion.</p>
<p>Interpolation might lead to non-physical data values. Before converting, all density values less than the runtime parameter smlrho are set to smlrho. After conversion, the lower cutoff smalle runtime parameter is similarly applied to EINT_VAR and ENER_VAR if these are quantities in the simulation.</p>
<p>For the GC fill, this routine allows for transforming conservative form data back to primitive form on the interior cells of a coarse block at a fine/coarse boundary. The interpolated GC data must also be transformed to primitive form.</p>
<p>When creating a new leaf block, this routine allows for transforming conservative form data back to primitive form on the interior and guardcells of the parent block. The interpolated interior and GC data of the leaf block must also be transformed to primitive form.</p>
<p>This routine should never be called directly within FLASH.</p>
<p>SEE ALSO gr_conserveToPrimitive gr_cleanDensityData gr_cleanEnergyData gr_preinterpolationWork </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
