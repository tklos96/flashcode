<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FLASH5 Test: fortran/FLASH5/source/Grid/GridMain/UG/gr_shiftData.F90 File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">FLASH5 Test
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_9d95adc37effe2d0447790667f945c24.html">fortran</a></li><li class="navelem"><a class="el" href="dir_aaca5e2157f58805ddf087a6c1d4d986.html">FLASH5</a></li><li class="navelem"><a class="el" href="dir_d9542af6519f0ca27bc6117ad523d5c6.html">source</a></li><li class="navelem"><a class="el" href="dir_06beb580571d8da4bd59dee7afe6838a.html">Grid</a></li><li class="navelem"><a class="el" href="dir_a5ba4d35013f375122597140872d1634.html">GridMain</a></li><li class="navelem"><a class="el" href="dir_e2cc8590a8a19a674efa793b1a0bc77b.html">UG</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions/Subroutines</a>  </div>
  <div class="headertitle">
<div class="title">gr_shiftData.F90 File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;constants.h&quot;</code><br />
<code>#include &quot;Flash.h&quot;</code><br />
<code>#include &quot;Flash_mpi.h&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions/Subroutines</h2></td></tr>
<tr class="memitem:a58699b8546e7d572d345c3ab9878b178"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gr__shift_data_8_f90.html#a58699b8546e7d572d345c3ab9878b178">gr_shiftdata</a> (comm, dataType, sendRight, sendLeft, recvRight, recvLeft, gridDataStruct)</td></tr>
<tr class="separator:a58699b8546e7d572d345c3ab9878b178"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function/Subroutine Documentation</h2>
<a id="a58699b8546e7d572d345c3ab9878b178"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58699b8546e7d572d345c3ab9878b178">&#9670;&nbsp;</a></span>gr_shiftdata()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine gr_shiftdata </td>
          <td>(</td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>comm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>dataType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(mdim+1), intent(in)&#160;</td>
          <td class="paramname"><em>sendRight</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(mdim+1), intent(in)&#160;</td>
          <td class="paramname"><em>sendLeft</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(mdim+1), intent(in)&#160;</td>
          <td class="paramname"><em>recvRight</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(mdim+1), intent(in)&#160;</td>
          <td class="paramname"><em>recvLeft</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>gridDataStruct</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p></p>
<p>call gr_shiftData(integer (IN) :: comm, integer (IN) :: dataType, integer (IN) :: sendRight(4), integer (IN) :: sendLeft(4), integer (IN) :: recvRight(4), integer (IN) :: recvLeft(4), integer (IN) :: gridDataStruct)</p>
<p></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">comm</td><td>the communicator. Here there will be one for each dimension of the process grid </td></tr>
    <tr><td class="paramname">dataType</td><td>mpi datatype created in gr_createDataTypes </td></tr>
    <tr><td class="paramname">sendRight</td><td>array holding the staring indices of the unk array for data sent to right neighbor (neighbor is up in 2nd dimension and back neighbor in 3rd dim) </td></tr>
    <tr><td class="paramname">sendLeft</td><td>array holding the staring indices of the unk array for data sent to left neighbor </td></tr>
    <tr><td class="paramname">recvRight</td><td>array holding the starting recv indices of the unk array for data sent to right neigh </td></tr>
    <tr><td class="paramname">recvLeft</td><td>array holding the starting recv indices of the unk array for data sent to left neigh </td></tr>
    <tr><td class="paramname">gridDataStruct</td><td>- the datastructure in the grid, valid values are CENTER, FACEX, FACEY, FACEZ</td></tr>
  </table>
  </dd>
</dl>
<p>NAME gr_shiftData</p>
<p>DESCRIPTION Given a communicator (comm) and derived mpi data type, "dataType", exchange guardcell values with neighboring blocks by carrying out out the shift data right and shift data left operations.</p>
<p>The arguments sendRight, sendLeft, recvRight, recvLeft hold the indices of the starting and receving points in the data structure specified by the gridDataStruct. These values are closely tied to the dataType.</p>
<p>EXAMPLE sendRight(1,1) in x direction holds the 1st unk dimension which is the variable ID sendRight(1,2) in x direction holds the 2nd unk dimension which is the i starting index sendRight(1,3) in x direction holds the 3rd unk dimension which is the j starting index sendRight(1,4) in x direction holds the 4th unk dimension which is the k starting index </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
