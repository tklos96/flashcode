<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FLASH5 Test: fortran/FLASH5/source/physics/Hydro/HydroMain/unsplit/hy_prepareNewGravityAccel.F90 File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">FLASH5 Test
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_9d95adc37effe2d0447790667f945c24.html">fortran</a></li><li class="navelem"><a class="el" href="dir_aaca5e2157f58805ddf087a6c1d4d986.html">FLASH5</a></li><li class="navelem"><a class="el" href="dir_d9542af6519f0ca27bc6117ad523d5c6.html">source</a></li><li class="navelem"><a class="el" href="dir_1cda4e1d5b1cb0a75978177217cc7d6e.html">physics</a></li><li class="navelem"><a class="el" href="dir_a1764528f3a110c3b4261dc6e1b9462d.html">Hydro</a></li><li class="navelem"><a class="el" href="dir_c148003c2bda170d95003c2630531f58.html">HydroMain</a></li><li class="navelem"><a class="el" href="dir_af27268307d04430b6d1bac0935d4159.html">unsplit</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions/Subroutines</a>  </div>
  <div class="headertitle">
<div class="title">hy_prepareNewGravityAccel.F90 File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;Flash.h&quot;</code><br />
<code>#include &quot;constants.h&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a6a73acd555451af1fa5df65dc72bd9a2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hy__prepare_new_gravity_accel_8_f90.html#a6a73acd555451af1fa5df65dc72bd9a2">DEBUG_GRID_GCMASK</a></td></tr>
<tr class="separator:a6a73acd555451af1fa5df65dc72bd9a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions/Subroutines</h2></td></tr>
<tr class="memitem:a86b94b3aab060fb73fe634d8ac0c23dd"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hy__prepare_new_gravity_accel_8_f90.html#a86b94b3aab060fb73fe634d8ac0c23dd">hy_preparenewgravityaccel</a> (gcMaskLogged)</td></tr>
<tr class="separator:a86b94b3aab060fb73fe634d8ac0c23dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a6a73acd555451af1fa5df65dc72bd9a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a73acd555451af1fa5df65dc72bd9a2">&#9670;&nbsp;</a></span>DEBUG_GRID_GCMASK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEBUG_GRID_GCMASK</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function/Subroutine Documentation</h2>
<a id="a86b94b3aab060fb73fe634d8ac0c23dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86b94b3aab060fb73fe634d8ac0c23dd">&#9670;&nbsp;</a></span>hy_preparenewgravityaccel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine hy_preparenewgravityaccel </td>
          <td>(</td>
          <td class="paramtype">logical, intent(in)&#160;</td>
          <td class="paramname"><em>gcMaskLogged</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p></p>
<p>call hy_prepareNewGravityAccel(integer, INTENT(IN) :: blockCount, integer, INTENT(IN), dimension(blockCount) :: blocklist, logical(in) :: gcMaskLogged)</p>
<p></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">blockCount</td><td>block count, passed on to Gravity_potential </td></tr>
    <tr><td class="paramname">blocklist</td><td>list of blocks, passed on to Gravity_potential </td></tr>
    <tr><td class="paramname">gcMaskLogged</td><td>a flag to control logging of the guard cell mask for the Grid_fillGuardCells call</td></tr>
  </table>
  </dd>
</dl>
<p>NAME</p>
<p>hy_prepareNewGravityAccel</p>
<p>DESCRIPTION</p>
<p>Call Gravity_potential to update the gravitational potential stored in UNK, for configurations with self-gravity.</p>
<p>Also perform ancillary actions needed in some configurations, in particular related to sink particles if those are being used.</p>
<p>Functionally, this prepares UNK and other simulation state so that subsequent matching calls to Gravity_accelOneRow return the proper gravitational accelerations acting on the fluid (or, more general, the mass distribution described by the "dens" variable of UNK).</p>
<p>The word "matching" in the above description means, in particular, agreement on which variable to use for storing the potential (whether "gpot", "gpoh", or "gpol"), as well as other auxiliary variables if needed. The reason for having this wrapper in the Hydro implementation is to achieve this agreement (in cooperation with the hy_putGravity wrapper).</p>
<p>SEE ALSO</p>
<p>Gravity_potential Gravity_accelOneRow </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
