<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FLASH5 Test: fortran/FLASH5/source/IO/IOMain/hdf5/parallel/UG/io_writeData.F90 File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">FLASH5 Test
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_9d95adc37effe2d0447790667f945c24.html">fortran</a></li><li class="navelem"><a class="el" href="dir_aaca5e2157f58805ddf087a6c1d4d986.html">FLASH5</a></li><li class="navelem"><a class="el" href="dir_d9542af6519f0ca27bc6117ad523d5c6.html">source</a></li><li class="navelem"><a class="el" href="dir_a2299b85ef517c141bbfcc23f706b99e.html">IO</a></li><li class="navelem"><a class="el" href="dir_283042ee54f6be132bec5b420dedaa67.html">IOMain</a></li><li class="navelem"><a class="el" href="dir_bccf7a0b88522bfd742d648a1f6f6028.html">hdf5</a></li><li class="navelem"><a class="el" href="dir_60bea2be6740e4c1e3c6b76cc1a8b9cd.html">parallel</a></li><li class="navelem"><a class="el" href="dir_25243afe906cbb4e2c3be410b74cb8d7.html">UG</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions/Subroutines</a>  </div>
  <div class="headertitle">
<div class="title">io_writeData.F90 File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions/Subroutines</h2></td></tr>
<tr class="memitem:abe6fae19ae43e12e1592fe0e8a8a5ec9"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="parallel_2_u_g_2io__write_data_8_f90.html#abe6fae19ae43e12e1592fe0e8a8a5ec9">io_writedata</a> (fileID)</td></tr>
<tr class="separator:abe6fae19ae43e12e1592fe0e8a8a5ec9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function/Subroutine Documentation</h2>
<a id="abe6fae19ae43e12e1592fe0e8a8a5ec9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe6fae19ae43e12e1592fe0e8a8a5ec9">&#9670;&nbsp;</a></span>io_writedata()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine io_writedata </td>
          <td>(</td>
          <td class="paramtype">integer(io_fileid_t), intent(in)&#160;</td>
          <td class="paramname"><em>fileID</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p></p>
<p>call io_writeData(integer(io_fileID_t)(in) :: fileID)</p>
<p></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fileID</td><td>integer file identifier for hdf5 file</td></tr>
  </table>
  </dd>
</dl>
<p>NAME</p>
<p>io_writeData</p>
<p>DESCRIPTION</p>
<p>This function writes the checkpoint data to an hdf5 file to store the paramesh data. IO is done in parallel &ndash; no copying of the data to a single processor to do the writing is performed. HDF5 v. 1.4.0 or later is required</p>
<p>HDF5 uses MPI-IO (via ROMIO) to support parallel IO. Each processor must open the file, create the datasets, and dataspaces for each HDF record.</p>
<p>A single record for each of the data structures is created. A processor only writes to a subset of this record. Each record has a dimension with length = tot_blocks. The offset of a processor into this dimension is computed by looking at the total number of blocks that are below the current processor.</p>
<p>In this version of io_writeData, each variable is given its own record &ndash; this makes it easier to change the variable list in the future without disturbing the format of the file.</p>
<p>The include file &ndash; hdf5_flash.h is used for the C routines</p>
<p>NOTES</p>
<p>This current version of the Uniform Grid IO "fakes" some paramesh or tree structure data. For example, the uniform grid is all at the same resolution so the concept of refinement levels doesn't really exist.</p>
<p>However, for IO purposes and to make our visualization packages uniform all checkpoint files must write out a refinement level. For the Uniform Grid, this is simply set to 1. The same thing goes for node type, Paramesh and other grid packages need to keep track of whether a block is a parent leaf or ancestor. The Uniform Grid sets all blocks to type LEAF. This is also necessary in case the a user wants to perform some initial conditions with the Uniform Grid and then perform the bulk of the calculation with an amr package.</p>
<p>The KIND type parameter io_fileID_t is defined in Fortran module io_intfTypesModule. It should ensure that fileID is compatible of the hid_t of the HDF5 library version used. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
