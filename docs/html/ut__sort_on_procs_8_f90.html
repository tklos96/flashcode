<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FLASH5 Test: fortran/FLASH5/source/flashUtilities/sorting/ut_sortOnProcs.F90 File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">FLASH5 Test
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_9d95adc37effe2d0447790667f945c24.html">fortran</a></li><li class="navelem"><a class="el" href="dir_aaca5e2157f58805ddf087a6c1d4d986.html">FLASH5</a></li><li class="navelem"><a class="el" href="dir_d9542af6519f0ca27bc6117ad523d5c6.html">source</a></li><li class="navelem"><a class="el" href="dir_13f0565b03a429ba08dbacf88b7efdc2.html">flashUtilities</a></li><li class="navelem"><a class="el" href="dir_ced8cd35f97d57f609f97dd26c28e0e4.html">sorting</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions/Subroutines</a>  </div>
  <div class="headertitle">
<div class="title">ut_sortOnProcs.F90 File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;constants.h&quot;</code><br />
<code>#include &quot;Flash.h&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions/Subroutines</h2></td></tr>
<tr class="memitem:a9d66b579b70c96d7c4e0771566df1967"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ut__sort_on_procs_8_f90.html#a9d66b579b70c96d7c4e0771566df1967">ut_sortonprocs</a> (count, props, attrib, numProcs, storage, workspace, perProc, ifNonZeroProc, nonZeroProcsCount)</td></tr>
<tr class="separator:a9d66b579b70c96d7c4e0771566df1967"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function/Subroutine Documentation</h2>
<a id="a9d66b579b70c96d7c4e0771566df1967"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d66b579b70c96d7c4e0771566df1967">&#9670;&nbsp;</a></span>ut_sortonprocs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine ut_sortonprocs </td>
          <td>(</td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>props</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>attrib</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>numProcs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(props,count), intent(inout)&#160;</td>
          <td class="paramname"><em>storage</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(props,count), intent(inout)&#160;</td>
          <td class="paramname"><em>workspace</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(numprocs), intent(out)&#160;</td>
          <td class="paramname"><em>perProc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(numprocs), intent(out)&#160;</td>
          <td class="paramname"><em>ifNonZeroProc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>nonZeroProcsCount</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p></p>
<p>ut_sortOnProcs(integer (IN) :: count, integer (IN) :: props,</p>
<p>integer (IN) :: attrib, integer (IN) :: numProcs, real (INOUT) :: storage(props,count), real (INOUT) :: workspace(props,count), integer(OUT),dimension(numProcs) :: perProc(:), integer(OUT),dimension(numProcs) :: ifNonZeroProc(:), integer(OUT) :: nonZeroProcsCount)</p>
<p></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">count</td><td>The number of particles in the storage buffer </td></tr>
    <tr><td class="paramname">props</td><td>count of attributes associated with particle data structure </td></tr>
    <tr><td class="paramname">attrib</td><td>the index of the property that contains processor number information </td></tr>
    <tr><td class="paramname">numProcs</td><td>number of processor under consideration </td></tr>
    <tr><td class="paramname">storage</td><td>buffer containing the particles </td></tr>
    <tr><td class="paramname">workspace</td><td>temporary storage for particles while processing </td></tr>
    <tr><td class="paramname">perProc</td><td>an array of size equal to number of processors each entry is the count of particles destined for the corresponding processor </td></tr>
    <tr><td class="paramname">ifNonZeroProc</td><td>same size array as perProc, here value is 1 if there are any particles to be sent to the corresponding processor, otherwise the value is zero </td></tr>
    <tr><td class="paramname">nonZeroProcsCount</td><td>The count of the number of processors that will receive particles sent by myPE</td></tr>
  </table>
  </dd>
</dl>
<p>NAME ut_sortOnProcs</p>
<p>DESCRIPTION</p>
<p>Given a data structure that is a two dimensional array, where the first dimension represents properties of individual elements in the data structure, and the second dimension represents the count of the elements in the data structure, this routine finds the processor number associated with each element and sorts the elements by their processor number. It assumes that one of the properties in the first dimension contains the processor number, where that index is given by the argument "attrib". This subroutine also returns metadata about the sorted data structure. The array perProc contains the count of elements in associated with each processor. The array ifNonZeroProc acts as a logical array, it has a value 1 if there is at least one element associated with the corresponding processor and a value 0 otherwise. Finally nonZeroProcsCount contains the count of procs other than myPE that have a non zero number of elements associated with them. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
